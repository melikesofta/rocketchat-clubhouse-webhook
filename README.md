Integration to send [Clubhouse](https://app.clubhouse.io) actions automatically to a [Rocket.Chat](https://rocket.chat/) channel.

This repository is based on [v1 webhook API](https://clubhouse.io/api/webhook/v1/) by Clubhouse and is open to further customization!

#### Setup

##### Rocket.Chat
- Go to Rocket.Chat > Administration
- Choose `Integrations`
- Click `New Integration` from top right
- Select `Incoming Webhook`
- Set `Enabled: True`
- Fill in `name`, `channel`, `post as`, `alias` etc
- Set `Script enabled: True`
- Fill in the script field with `index.js` of this repository
- Set `WORKSPACE_NAME` in the script to your Clubhouse workspace name
- `MEMBER_NAMES_BY_UUID` in the script holds a mapping between Clubhouse member uuid's to your users' Rocket.Chat usernames. It is optional to fill this, if you do, you will see actual usernames instead of user uuids in the related fields. You can fill in the array after posting a few actions and finding out the member uuids.

##### Clubhouse
- Go to Clubhouse -> `Integrations` -> `Webhooks`
- Copy the `Webhook URL` and `Token` generated by Rocket.Chat and paste them to Clubhouse as `Payload URL` and `secret` respectively.
- Click `Add new webhook`

You are ready to go! Move stuff around or create a new story to test your webhook. Feel free to create issues or PRs for any improvements you might need!
